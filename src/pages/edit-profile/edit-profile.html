<ion-header>
  <ion-navbar color="primary"> <ion-title>Edit Profile</ion-title> </ion-navbar>
</ion-header>
<ion-content text-center>
  <ion-card *ngIf="userProfile" class="round-card">
    <ion-avatar (click)="changePicture()">
      <img
        alt=""
        class="image cover-image"
        [src]="chosenPicture || userProfile.thumbnail || userProfile.profilePhoto"
        onerror="this.src='userProfile.profilePhoto'"
      />
      <button ion-button clear color="primary-one">Change image</button>
    </ion-avatar>

    <form [formGroup]="form" (ngSubmit)="submitForm()">
      <ion-list>
        <ion-item>
          <ion-label stacked>Username</ion-label>
          <ion-input
            type="text"
            [value]="userProfile.userName"
            name="username"
            formControlName="username"
            (keyup)="removeSpaceFromUsername()"
          ></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked>Full Name</ion-label>
          <ion-input
            type="text"
            [value]="userProfile.displayName"
            name="username"
            formControlName="name"
          ></ion-input>
        </ion-item>

        <ion-item>
          <ion-label stacked>Bio</ion-label>
          <ion-input
            type="text"
            [value]="userProfile.bio"
            name="bio"
            formControlName="bio"
            maxlength="120"
          ></ion-input>
        </ion-item>

        <button ion-button clear [disabled]="!form.valid" class="save-btn">Save</button>
      </ion-list>
    </form>
  </ion-card>
</ion-content>
