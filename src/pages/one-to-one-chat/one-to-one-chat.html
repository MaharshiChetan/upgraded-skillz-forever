<ion-header>
  <ion-navbar color="primary">
    <ion-title>{{ otherUserDetails?.userName }}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="goToChatSettingsPage()">
        <ion-icon name="settings"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content
  fixed
  scrollDownOnLoad="true"
  (tap)="contentMouseDown($event)"
  ionScrollEnd="hideKeybaord()"
>
  <chat-bubble
    [messages]="messages"
    [otherUserDetails]="otherUserDetails"
    [currentUserDetails]="currentUserDetails"
  ></chat-bubble>
</ion-content>

<ion-footer (touchstart)="footerTouchStart($event)">
  <ion-toolbar>
    <ion-buttons left>
      <button class="add-image-button" item-right (touchstart)="showActionSheet($event)">
        <ion-icon class="add-image-icon" name="images"></ion-icon>
      </button>
    </ion-buttons>

    <textarea
      spellcheck="true"
      autocomplete="on"
      autocorrect="on"
      (ngModelChange)="textAreaChange()"
      rows="1"
      fz-elastic
      [(ngModel)]="message"
      placeholder="Write your message"
    >
    </textarea>

    <ion-buttons right>
      <button
        class="send-button"
        [disabled]="!message"
        clear
        ion-button
        icon-only
        item-right
        color="primary"
        (touchstart)="touchSendButton($event)"
      >
        <ion-icon name="send"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
